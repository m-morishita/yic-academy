import { GuideSection } from "@/types"

export const practiceStep4Content: GuideSection = {
  id: "practice-step4", 
  title: "Step4: 深掘りする（検証・改善）",
  content: `
選んだ困りごとを多角的に分析し、解決策のアイデアを出して、実現可能性を検証します。
このステップで、次のフェーズへの準備を完了させます。
  `,
  subsections: [
    {
      id: "step4-overview",
      title: "概要と目標",
      content: `
## このステップでできること

- 困りごとの根本原因分析
- 影響範囲の可視化
- 解決策のアイデア出し
- 実現可能性の検証

## 所要時間
約60〜90分

## 用意するもの
- これまでの成果物（困りごと、ペルソナ）
- miroボード
- アイデア評価マトリクス

## 成果物
- 根本原因の分析結果
- 20個以上の解決策アイデア
- TOP3アイデアの詳細検討
- 次フェーズへの引き継ぎ資料
      `
    },
    {
      id: "step4-root-cause",
      title: "根本原因を探る",
      content: `
## なぜなぜ分析

選んだ困りごとの根本原因を「5回のなぜ」で探ります。

### 分析の例

**困りごと**: 朝起きられずに遅刻ギリギリになる

1. **なぜ？** → 目覚ましを止めて二度寝してしまうから
2. **なぜ？** → 睡眠の質が悪く、朝疲れが取れていないから
3. **なぜ？** → 寝る直前までスマホを見ているから
4. **なぜ？** → 寝る前の習慣・ルーティンがないから
5. **なぜ？** → 1日の終わりの区切りが曖昧だから

### AIを使った原因分析

\`\`\`
以下の困りごとについて、多角的に原因を分析してください。

【困りごと】
[ここに困りごとを入力]

【分析の観点】
1. 直接的原因（表面的な理由）
2. 間接的原因（背景にある要因）
3. 構造的原因（システムや環境）
4. 心理的原因（意識や習慣）
5. 社会的原因（文化や風潮）

各原因について：
- 具体的な説明
- 影響の大きさ（大/中/小）
- 改善の難易度（高/中/低）
\`\`\`

### 原因マップの作成

miroで原因を可視化：

\`\`\`
        [根本原因]
            ↑
    [中間原因1] [中間原因2]
        ↑           ↑
    [直接原因]  [直接原因]
        ↑           ↑
        [困りごと]
\`\`\`
      `
    },
    {
      id: "step4-impact",
      title: "影響範囲を分析する",
      content: `
## インパクトマッピング

困りごとが及ぼす影響を定量的・定性的に分析します。

### AIプロンプト：影響範囲の分析

\`\`\`
以下の困りごとについて、その影響範囲を分析してください。

【困りごと】
[ここに困りごとを入力]

【ペルソナ】
[ここにメインペルソナを入力]

【分析項目】
1. 直接的な影響
   - 本人への影響（時間、お金、ストレス）
   - 頻度と継続期間
   - 具体的な損失

2. 間接的な影響
   - 家族・友人への影響
   - 職場・学校への影響
   - 社会への影響

3. 長期的な影響
   - 放置した場合の1年後
   - 5年後の状況
   - 最悪のシナリオ

4. 経済的インパクト
   - 個人の損失額（概算）
   - 社会全体の損失額（推定）
   - 機会損失

5. ポジティブな転換
   - 解決した場合の利益
   - 波及効果
   - 新たな価値創造
\`\`\`

### 数値化の例

**個人レベル**
- 時間損失：毎日30分 × 365日 = 年間182.5時間
- 金銭損失：タクシー代 月5回 × 2,000円 = 月10,000円
- ストレス：10段階中8（高ストレス）

**社会レベル**
- 対象者数：同じ悩みを持つ人 推定100万人
- 経済損失：100万人 × 年間10万円 = 1,000億円
- 生産性低下：朝の集中力低下による影響
      `
    },
    {
      id: "step4-ideation",
      title: "解決策をブレストする",
      content: `
## アイデア大量生成

制約を外して、あらゆる解決策を考えます。

### AIプロンプト：解決策のブレインストーミング

\`\`\`
以下の困りごとに対して、20個の解決策をブレインストーミングしてください。

【困りごと】
[ここに困りごとを入力]

【ペルソナ】
[ここにペルソナ情報を入力]

【根本原因】
[ここに分析した根本原因を入力]

【解決策の条件】
- 実現可能性は問わない（アイデア段階でOK）
- テクノロジー活用案を5個以上含める
- アナログな解決策も5個以上含める
- 既存サービスの組み合わせ案を3個以上
- 全く新しいアプローチを3個以上
- 予防的アプローチと対症療法的アプローチを両方含める

各解決策について：
- 解決策の名前（キャッチーに）
- 簡単な説明（1-2行）
- メリット（最大3つ）
- デメリット・課題（最大3つ）
- 実現に必要な技術やリソース
\`\`\`

### アイデアのカテゴリー分け

生成したアイデアを分類：

**実現性 × 効果のマトリクス**

\`\`\`
        高効果
          ↑
    [優先度高]  [要検討]
          │
    ──────┼──────→ 高実現性
          │
    [後回し]   [Quick Win]
          ↓
        低効果
\`\`\`

**アプローチ別分類**
- 技術的解決（アプリ、IoT、AI）
- 行動変容（習慣化、ゲーミフィケーション）
- 社会的解決（コミュニティ、相互扶助）
- 環境改善（空間デザイン、ツール）
      `
    },
    {
      id: "step4-validation",
      title: "アイデアを検証する",
      content: `
## TOP3アイデアの詳細検討

最も有望な3つのアイデアを深掘りします。

### 検証フレームワーク

**アイデア1の検証例**

\`\`\`
【アイデア名】
スマート目覚ましアプリ「朝活マスター」

【コンセプト】
睡眠サイクルを検知し、最適なタイミングで起こす。
二度寝したらペナルティ（SNSに自動投稿など）。

【ペルソナの反応予測】
「これなら起きられそう！」
「ペナルティは嫌だけど、それが効きそう」

【MVP（最小限の製品）】
- 睡眠サイクル検知（既存API活用）
- 複数アラーム設定
- ペナルティ機能（まずは通知のみ）

【必要なリソース】
- 開発者1名（3週間）
- デザイナー1名（1週間）
- テストユーザー10名
- 開発費用：約50万円

【検証方法】
1. プロトタイプを10人に2週間使ってもらう
2. 起床成功率を測定
3. アンケートでフィードバック収集
4. 改善点を洗い出し

【成功基準】
- 起床成功率が50%→80%に改善
- 継続利用意向80%以上
- NPS（推奨度）スコア30以上
\`\`\`

### リスクと対策

各アイデアのリスクを事前に検討：

**技術的リスク**
- 実装が想定より難しい → 外部APIを活用
- バグが多い → 段階的リリース

**市場リスク**
- 競合が多い → 差別化ポイントを明確に
- ニーズが小さい → ターゲットを拡大

**運用リスク**
- 継続利用されない → ゲーミフィケーション導入
- サポートが大変 → FAQ・自動応答の充実

### 次のフェーズへの準備

**引き継ぎ資料の作成**

1. **エグゼクティブサマリー**（1ページ）
   - 選んだ困りごとと理由
   - メインペルソナ
   - TOP3アイデア

2. **詳細ドキュメント**
   - 全ての分析結果
   - アイデア一覧
   - 検証結果

3. **アクションプラン**
   - 次の3ヶ月でやること
   - 必要なリソース
   - マイルストーン

### 振り返りと学び

**チームで振り返り**

- うまくいったこと
- 改善点
- 学んだこと
- 次に活かせること

**個人の振り返り**

- AIの使い方で発見したこと
- チーム作業での気づき
- 自分の強み・弱みの発見

これで、フェーズ①「現状（困りごとを見つける）」の完了です！
      `
    }
  ]
}